<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- A-Frame -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

  <!-- MindAR -->
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>

  <style>
    body { margin: 0; overflow: hidden; }

    #ui-overlay {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      width: 85%;
      background: rgba(0,0,0,0.85);
      color: #00ffff;
      padding: 15px;
      border-radius: 15px;
      border: 2px solid #00ffff;
      font-family: monospace;
      text-align: center;
      display: none;
      z-index: 100;
    }

    #score {
      color: #00ff99;
      font-size: 18px;
    }

    button {
      margin-top: 8px;
      padding: 8px 14px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      font-weight: bold;
      background: #ff00ff;
      color: white;
    }
  </style>
</head>

<body>

<!-- UI -->
<div id="ui-overlay">
  <p id="dialogue-text">Catch the glowing orb to know more about me ðŸ‘€</p>
  <p id="score">Score: 0</p>
  <button onclick="resetGame()">Reset Game</button>
</div>

<a-scene
  mindar-image="imageTargetSrc: ./targets.mind;"
  vr-mode-ui="enabled: false"
  device-orientation-permission-ui="enabled: false"
>

  <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

  <!-- FRONT SIDE -->
  <a-entity mindar-image-target="targetIndex: 1">
    <a-text value="Flip the card to play ðŸŽ®"
            align="center"
            color="#ff00ff"
            position="0 0 0.2">
    </a-text>
  </a-entity>

  <!-- BACK SIDE (GAME ZONE) -->
  <a-entity id="card-target" mindar-image-target="targetIndex: 0">

    <!-- Game Orb -->
    <a-sphere
      id="game-orb"
      radius="0.1"
      color="#00ffff"
      position="0 0.3 0.3"
      animation="property: position;
                 to: 0.4 0.5 0.3;
                 dir: alternate;
                 dur: 1500;
                 loop: true"
      class="clickable">
    </a-sphere>

    <!-- Name -->
    <a-text
      value="AYUSHI PADHY"
      align="center"
      color="#ffffff"
      position="0 -0.3 0.2"
      scale="0.6 0.6 0.6">
    </a-text>

  </a-entity>
</a-scene>

<script>
  let score = 0;

  const target = document.querySelector('#card-target');
  const ui = document.querySelector('#ui-overlay');
  const orb = document.querySelector('#game-orb');
  const scoreText = document.querySelector('#score');
  const dialogue = document.querySelector('#dialogue-text');

  // Show UI when back side detected
  target.addEventListener("targetFound", () => {
    ui.style.display = "block";
  });

  target.addEventListener("targetLost", () => {
    ui.style.display = "none";
  });

  // Game interaction
  orb.addEventListener("click", () => {
    score++;
    scoreText.innerText = "Score: " + score;

    orb.setAttribute("color", score % 2 === 0 ? "#ff00ff" : "#00ff99");

    dialogue.innerText =
      score < 3
        ? "Nice! Keep going ðŸ˜„"
        : "You unlocked my creative side ðŸŽ¨âœ¨";
  });

  function resetGame() {
    score = 0;
    scoreText.innerText = "Score: 0";
    dialogue.innerText = "Catch the glowing orb to know more about me ðŸ‘€";
    orb.setAttribute("color", "#00ffff");
  }
</script>

</body>
</html> 
